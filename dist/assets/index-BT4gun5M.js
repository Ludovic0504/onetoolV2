import{r as s,j as e,u as Y,L as T,N as he,O as Xe,b as Ee,c as Ye,d as de,R as Be,e as D,f as We,h as Qe,B as Je}from"./react-vendor-DuEh-t8i.js";import{c as Ke}from"./supabase-vendor-Do2P9aQD.js";import{M as Ze,X as U,H as et,S as A,F as q,I as z,V as F,a as tt,A as Ie,U as st,B as _e,R as De,b as K,c as me,C as pe,Z,d as ge,e as rt,T as Q,f as Le,W as ae,g as fe,h as be,i as ue,j as je,P as $e,L as at,k as Te,l as nt,E as lt,m as it,n as ot,o as ct,p as dt,q as mt,r as ut,s as xt,G as ht,t as ye,u as pt}from"./icons-vendor-DN-mI_Kg.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const x of c)if(x.type==="childList")for(const o of x.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function n(c){const x={};return c.integrity&&(x.integrity=c.integrity),c.referrerPolicy&&(x.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?x.credentials="include":c.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function u(c){if(c.ep)return;c.ep=!0;const x=n(c);fetch(c.href,x)}})();function gt(t){return t?window.localStorage:window.sessionStorage}function te(t={}){const r=t.remember??!0,n=r?"local":"session";return globalThis.__supabase__&&globalThis.__supabase_storage_kind__===n?globalThis.__supabase__:(console.error("[Supabase] Variables d'environnement manquantes. Vérifiez VITE_SUPABASE_URL et VITE_SUPABASE_ANON_KEY"),Ke("https://placeholder.supabase.co","placeholder-key",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1,storage:gt(r)}}))}const ft=()=>`${typeof window<"u"&&window.location?.origin||void 0||""}/auth/callback`,Re=s.createContext(null),bt=({children:t})=>{const r=s.useMemo(()=>{try{return localStorage.getItem("onetool_oauth_remember")==="1"}catch{return!1}},[]),n=s.useMemo(()=>te({remember:r}),[r]),[u,c]=s.useState(null),[x,o]=s.useState(!0),f=s.useRef(!1);s.useEffect(()=>{let m;return(async()=>{o(!0);const{data:v,error:g}=await n.auth.getSession();if(g||c(v.session??null),o(!1),!f.current){const{data:N}=n.auth.onAuthStateChange((S,j)=>{if(c(j??null),o(!1),S==="SIGNED_IN")try{localStorage.removeItem("onetool_oauth_remember")}catch{}});m=()=>N.subscription.unsubscribe(),f.current=!0}})(),()=>{m&&m()}},[n]);const d=s.useCallback(async()=>{await n.auth.signOut(),c(null)},[n]),a=s.useMemo(()=>({session:u,loading:x,supabase:n,signOut:d}),[u,x,n,d]);return e.jsx(Re.Provider,{value:a,children:t})};function V(){const t=s.useContext(Re);if(!t)throw new Error("useAuth must be used within <AuthProvider>");return t}const vt=[{path:"/",label:"Accueil"},{path:"/lab",label:"Nouveautés"},{path:"/prompt",label:"Créer un texte"},{path:"/image",label:"Créer une image"},{path:"/video",label:"Créer une vidéo"},{path:"/a-savoir",label:"Informations utiles"}];function jt({onOpenMenu:t,menuOpen:r}){const{session:n,loading:u,signOut:c}=V(),x=n?.user?.email,o=Y(),[f,d]=s.useState(!1);s.useEffect(()=>{const g=()=>d(window.scrollY>8);return g(),window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]);const[a,m]=s.useState(!1);async function l(){try{m(!0),await c?.()}finally{m(!1)}}const v=g=>g==="/"?o.pathname==="/":o.pathname===g||g!=="/lab"&&o.pathname.startsWith(g);return e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0C1116]/30 backdrop-blur-xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(T,{to:"/",className:"z-10 flex-shrink-0 mr-4",children:e.jsx("span",{className:"text-xl font-black bg-gradient-to-r from-cyan-300 via-violet-300 to-yellow-300 bg-clip-text text-transparent",children:"OneTool"})}),e.jsx("nav",{className:"hidden md:flex items-center justify-center gap-6 lg:gap-8 flex-1",children:vt.map(g=>{const N=v(g.path);return e.jsxs(he,{to:g.path,className:`relative text-sm font-medium transition-all duration-300 whitespace-nowrap ${N?"text-emerald-300":"text-gray-400 hover:text-gray-200"}`,children:[e.jsx("span",{className:"relative z-10",children:g.label}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-emerald-400 to-transparent"}),e.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-emerald-400"})]})]},g.path)})}),e.jsxs("div",{className:"flex items-center gap-4 z-10 flex-shrink-0",children:[n?e.jsxs(e.Fragment,{children:[x&&e.jsxs(T,{to:"/profil",className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 backdrop-blur-sm hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",title:"Voir mon profil",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 group-hover:bg-emerald-300 transition-colors"}),e.jsx("span",{className:"text-xs text-gray-300 font-medium truncate max-w-[120px] group-hover:text-gray-200 transition-colors",children:x.split("@")[0]})]}),e.jsx("button",{onClick:l,disabled:a,className:"hidden md:flex text-sm font-medium text-gray-400 hover:text-gray-200 transition-colors disabled:opacity-50",title:"Se déconnecter",children:a?"Déconnexion…":"Déconnexion"})]}):e.jsx(T,{to:"/login",className:"hidden md:flex px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-lg hover:from-emerald-400 hover:to-emerald-300 transition-all shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_30px_rgba(16,185,129,0.4)]",children:"Connexion"}),e.jsx("button",{type:"button","aria-label":"Ouvrir le menu",onClick:()=>t?.(),className:"md:hidden inline-flex h-8 w-8 items-center justify-center rounded-lg hover:bg-white/5 transition-colors z-10",children:e.jsx(Ze,{size:18,className:"text-gray-300"})})]})]})})]})}const yt=[{path:"/",label:"Accueil",icon:et},{path:"/lab",label:"Nouveautés",icon:A},{path:"/prompt",label:"Créer un texte",icon:q},{path:"/image",label:"Créer une image",icon:z},{path:"/video",label:"Créer une vidéo",icon:F},{path:"/a-savoir",label:"Informations utiles",icon:tt}];function wt({children:t,open:r,onCloseMenu:n}){const u=s.useRef(null),c=Y();s.useEffect(()=>{r&&n?.()},[c.pathname]),s.useEffect(()=>{const o=f=>{if(!r)return;const d=u.current;d&&!d.contains(f.target)&&n?.()};return document.addEventListener("pointerdown",o,!0),()=>document.removeEventListener("pointerdown",o,!0)},[r,n]),s.useEffect(()=>{if(r){const o=document.documentElement,f=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=f}}},[r]);const x=({path:o,label:f,icon:d})=>{const a=Y(),m=o==="/"?a.pathname==="/":a.pathname===o||o!=="/lab"&&a.pathname.startsWith(o);return e.jsxs(he,{to:o,className:`group flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200
         ${m?"bg-gradient-to-r from-emerald-500/20 to-emerald-400/10 text-emerald-300 border border-emerald-500/30 shadow-[0_0_20px_rgba(16,185,129,0.15)]":"text-slate-300 hover:bg-white/5 hover:text-white border border-transparent"}`,children:[e.jsx(d,{className:`w-5 h-5 transition-transform ${m?"scale-110":"group-hover:scale-110"}`}),e.jsx("span",{children:f})]})};return e.jsxs("div",{className:"w-full h-full flex flex-col",children:[e.jsx("aside",{ref:u,className:`fixed inset-y-0 left-0 w-72 bg-gradient-to-b from-[#0C1116] via-[#0a0f14] to-[#0C1116] border-r border-white/10 transform transform-gpu will-change-transform transition-transform duration-300 z-50 md:hidden shadow-2xl ${r?"translate-x-0":"-translate-x-full"}`,"aria-hidden":!r,children:e.jsxs("div",{className:"h-full text-white overflow-y-auto",children:[e.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between bg-[#0C1116]/80 backdrop-blur-sm sticky top-0 z-10",children:[e.jsx("span",{className:"font-semibold text-lg",children:"Navigation"}),e.jsx("button",{onClick:()=>n?.(),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-white/10 hover:bg-white/5 active:bg-white/10 transition-all duration-200 hover:scale-105","aria-label":"Fermer",children:e.jsx(U,{size:18,className:"text-slate-300"})})]}),e.jsx("nav",{className:"flex flex-col gap-2 px-4 py-4",children:yt.map(o=>e.jsx(x,{...o},o.path))})]})}),e.jsx("main",{className:"flex-1 w-full overflow-y-auto",children:t})]})}function Me(){return new Date().getFullYear(),e.jsx("footer",{className:"border-t border-white/10 bg-[#0C1116]/50 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs(T,{to:"/mentions-legales",className:"text-sm text-gray-400 hover:text-gray-200 transition-colors flex items-center gap-1.5",children:[e.jsx(q,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Mentions légales"})]})})})})})}function Nt(){const[t,r]=s.useState(!1);return e.jsxs("div",{className:"min-h-dvh flex flex-col bg-gradient-to-br from-[#050810] via-[#0C1116] to-[#080b10] text-white relative",children:[e.jsx(jt,{onOpenMenu:()=>r(!0),menuOpen:t}),e.jsx("div",{className:"flex-1 flex flex-col pt-16",children:e.jsx(wt,{open:t,onCloseMenu:()=>r(!1),children:e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(Xe,{})})})}),e.jsx(Me,{})]})}function St(){const t=Ee();return s.useEffect(()=>{(async()=>{const r=window.location.href;console.log("[AuthCallback] start, url =",r);let n=!1;try{n=localStorage.getItem("onetool_oauth_remember")==="1"}catch(u){console.warn("[AuthCallback] cannot read remember flag:",u)}{console.error("[AuthCallback] Configuration Supabase manquante"),t("/login?error=config",{replace:!0});return}})()},[t]),e.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",style:{background:"#0C1116"},children:"Validation en cours…"})}const Ct=[{path:"/",label:"Accueil"},{path:"/lab",label:"Nouveautés"},{path:"/prompt",label:"Créer un texte"},{path:"/image",label:"Créer une image"},{path:"/video",label:"Créer une vidéo"},{path:"/a-savoir",label:"Informations utiles"}];function kt(){const{session:t,signOut:r}=V(),n=Y(),[u,c]=s.useState(0),x=["texte","image","vidéo"];s.useEffect(()=>{const a=setInterval(()=>{c(m=>(m+1)%x.length)},3e3);return()=>clearInterval(a)},[]);const o=[{icon:q,label:"Texte",color:"cyan",path:"/prompt"},{icon:z,label:"Image",color:"violet",path:"/image"},{icon:F,label:"Vidéo",color:"yellow",path:"/video"}],f=a=>a==="/"?n.pathname==="/":n.pathname===a||a!=="/lab"&&n.pathname.startsWith(a),d=async()=>{try{await r?.()}catch(a){console.error("Erreur déconnexion:",a)}};return e.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0C1116] via-[#0a0f14] to-[#080b10]"}),e.jsxs("div",{className:"absolute inset-0 opacity-15",children:[e.jsx("div",{className:"absolute top-1/4 left-0 w-full h-96 bg-gradient-to-r from-transparent via-cyan-500/20 to-transparent blur-3xl animate-wave1"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-96 bg-gradient-to-r from-transparent via-violet-500/20 to-transparent blur-3xl animate-wave2"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-full h-96 bg-gradient-to-r from-transparent via-yellow-500/20 to-transparent blur-3xl animate-wave3"})]}),s.useMemo(()=>Array.from({length:30},(a,m)=>{const v=["rgba(65, 209, 255, 0.4)","rgba(189, 52, 254, 0.4)","rgba(255, 234, 131, 0.4)"][m%3],g=m*13.7%95,N=m*19.3%90,S=6+m%4*1.5,j=m*.1%3;return{i:m,color:v,left:g,top:N,duration:S,delay:j}}),[]).map(({i:a,color:m,left:l,top:v,duration:g,delay:N})=>e.jsx("div",{className:"absolute w-1 h-1 rounded-full",style:{background:m,left:`${l}%`,top:`${v}%`,animation:`float ${g}s ease-in-out infinite`,animationDelay:`${N}s`,boxShadow:`0 0 6px ${m}`,opacity:.6}},`particle-${a}`))]}),e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0C1116]/30 backdrop-blur-xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(T,{to:"/",className:"group z-10 flex-shrink-0",children:e.jsx("span",{className:"text-xl font-black bg-gradient-to-r from-cyan-300 via-violet-300 to-yellow-300 bg-clip-text text-transparent group-hover:from-cyan-200 group-hover:via-violet-200 group-hover:to-yellow-200 transition-all",children:"OneTool"})}),e.jsx("nav",{className:"hidden md:flex items-center justify-center gap-6 lg:gap-8 flex-1",children:Ct.map(a=>{const m=f(a.path);return e.jsxs(he,{to:a.path,className:`relative text-sm font-medium transition-all duration-300 whitespace-nowrap ${m?"text-emerald-300":"text-gray-400 hover:text-gray-200"}`,children:[e.jsx("span",{className:"relative z-10",children:a.label}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-emerald-400 to-transparent"}),e.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-emerald-400"})]})]},a.path)})}),e.jsx("div",{className:"flex items-center gap-4 z-10 flex-shrink-0",children:t?e.jsxs(e.Fragment,{children:[t.user?.email&&e.jsxs(T,{to:"/profil",className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 backdrop-blur-sm hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",title:"Voir mon profil",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 group-hover:bg-emerald-300 transition-colors"}),e.jsx("span",{className:"text-xs text-gray-300 font-medium truncate max-w-[120px] group-hover:text-gray-200 transition-colors",children:t.user.email.split("@")[0]})]}),e.jsx("button",{onClick:d,className:"text-sm font-medium text-gray-400 hover:text-gray-200 transition-colors",title:"Se déconnecter",children:"Déconnexion"})]}):e.jsx(T,{to:"/login",className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-lg hover:from-emerald-400 hover:to-emerald-300 transition-all shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_30px_rgba(16,185,129,0.4)]",children:"Connexion"})})]})})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center w-full",children:[e.jsxs("div",{className:"mb-10 sm:mb-14",children:[e.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-black mb-6 leading-none tracking-tight",children:[e.jsx("span",{className:"text-gray-100 block mb-2",children:"Créez votre"}),e.jsxs("span",{className:"relative inline-block",children:[e.jsx("span",{className:"inline-block bg-gradient-to-r from-cyan-400 via-violet-400 to-yellow-400 bg-clip-text text-transparent animate-fadeIn",style:{backgroundSize:"200% 200%",animation:"gradient 3s ease infinite"},children:x[u]},u),e.jsx("span",{className:"inline-block w-1 h-12 sm:h-16 md:h-20 bg-emerald-400 ml-3 animate-blink"})]})]}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-400 font-light mt-4",children:"avec l'intelligence artificielle"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 sm:gap-6 mb-12 sm:mb-16 max-w-2xl mx-auto",children:o.map(a=>{const m=a.icon,l=x[u]===a.label.toLowerCase();return e.jsxs(T,{to:a.path,className:`group relative flex flex-col items-center justify-center p-6 sm:p-8 rounded-2xl border-2 transition-all duration-500 ${l?`border-${a.color}-500/50 bg-${a.color}-500/10 scale-110 shadow-[0_0_30px_rgba(var(--${a.color}-500),0.3)]`:"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10 hover:scale-105"}`,style:{"--cyan-500":"65, 209, 255","--violet-500":"189, 52, 254","--yellow-500":"255, 234, 131"},children:[l&&e.jsx("div",{className:`absolute inset-0 rounded-2xl bg-${a.color}-500/20 blur-xl animate-pulse`,style:{animationDuration:"2s"}}),e.jsx("div",{className:`relative z-10 w-12 h-12 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center mb-3 transition-all duration-500 ${l?`bg-${a.color}-500/20 border-2 border-${a.color}-500/50`:"bg-white/5 border border-white/10 group-hover:bg-white/10"}`,children:e.jsx(m,{className:`w-6 h-6 sm:w-8 sm:h-8 transition-all duration-500 ${l?`text-${a.color}-300 scale-110`:"text-gray-400 group-hover:text-gray-200"}`})}),e.jsx("span",{className:`text-sm sm:text-base font-medium transition-all duration-500 ${l?`text-${a.color}-300`:"text-gray-400 group-hover:text-gray-200"}`,children:a.label}),l&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-400 to-transparent animate-progress"})]},a.path)})}),e.jsx("p",{className:"text-base sm:text-lg text-gray-500 mb-10 sm:mb-12 max-w-2xl mx-auto leading-relaxed",children:"Transformez vos idées en contenu professionnel en quelques secondes. Que ce soit un texte, une image ou une vidéo, l'IA fait le travail pour vous."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:e.jsxs(T,{to:t?"/prompt":"/login",className:"group inline-flex items-center gap-3 px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-xl hover:from-emerald-400 hover:to-emerald-300 transition-all duration-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_30px_rgba(16,185,129,0.5)] hover:scale-105 active:scale-95",children:[e.jsx("span",{children:t?"Commencer":"Se connecter"}),e.jsx(Ie,{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-2"})]})})]})}),e.jsx("style",{children:`
        @keyframes gradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
        @keyframes progress {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        @keyframes float {
          0%, 100% { 
            transform: translateY(0px) translateX(0px);
            opacity: 0.4;
          }
          50% { 
            transform: translateY(-15px) translateX(8px);
            opacity: 0.8;
          }
        }
        @keyframes wave1 {
          0%, 100% { transform: translateX(-30%) translateY(0); opacity: 0.15; }
          50% { transform: translateX(30%) translateY(-20px); opacity: 0.2; }
        }
        @keyframes wave2 {
          0%, 100% { transform: translateX(30%) translateY(0); opacity: 0.15; }
          50% { transform: translateX(-30%) translateY(20px); opacity: 0.2; }
        }
        @keyframes wave3 {
          0%, 100% { transform: translateX(-20%) translateY(0); opacity: 0.15; }
          50% { transform: translateX(20%) translateY(-15px); opacity: 0.2; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }
        .animate-blink {
          animation: blink 1s step-end infinite;
        }
        .animate-progress {
          animation: progress 2s ease-in-out infinite;
        }
        .animate-wave1 {
          animation: wave1 12s ease-in-out infinite;
        }
        .animate-wave2 {
          animation: wave2 14s ease-in-out infinite;
        }
        .animate-wave3 {
          animation: wave3 16s ease-in-out infinite;
        }
      `}),e.jsx(Me,{})]})}function ne({green:t,white:r,subtitle:n}){return e.jsxs("header",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-extrabold",children:[e.jsx("span",{className:"text-accent/90",children:t}),e.jsxs("span",{className:"text-white",children:[" · ",r]})]}),n&&e.jsx("p",{className:"mt-2 text-gray-400 text-sm sm:text-base max-w-2xl",children:n})]})}const le={feature:{label:"Nouvelle fonctionnalité",icon:De,bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-300",gradient:"from-emerald-500/20 to-emerald-600/10"},improvement:{label:"Amélioration",icon:Q,bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-300",gradient:"from-cyan-500/20 to-cyan-600/10"},fix:{label:"Correction",icon:pe,bg:"bg-violet-500/10",border:"border-violet-500/30",text:"text-violet-300",gradient:"from-violet-500/20 to-violet-600/10"},update:{label:"Mise à jour",icon:Z,bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-300",gradient:"from-yellow-500/20 to-yellow-600/10"}},X=[{id:"1",type:"feature",title:"Génération de vidéos avec IA",description:"Nouvelle fonctionnalité de création de vidéos avec support des modèles VEO3 et Sora2. Interface intuitive pour générer des vidéos à partir de prompts textuels.",date:new Date("2024-12-15"),category:"Création",link:"/video",icon:F},{id:"2",type:"feature",title:"Génération d'images avec référence",description:"Possibilité d'uploader une image de référence pour guider la génération. Support de multiples formats (16:9, 1:1, 9:16) et historique des créations.",date:new Date("2024-12-14"),category:"Création",link:"/image",icon:z},{id:"3",type:"feature",title:"Assistant de génération de prompts",description:"Outil intelligent pour créer et optimiser des prompts textuels. Historique complet, export et suggestions automatiques pour améliorer vos prompts.",date:new Date("2024-12-13"),category:"Création",link:"/prompt",icon:q},{id:"4",type:"improvement",title:"Page de profil utilisateur",description:"Nouvelle page de profil avec statistiques détaillées : nombre de textes, images et vidéos créés. Historique récent et gestion des informations personnelles.",date:new Date("2024-12-12"),category:"Interface",link:"/profil",icon:st},{id:"5",type:"improvement",title:"Journal des événements",description:"Transformation de la page Nouveautés en journal interactif. Suivez l'évolution de la plateforme avec un design moderne et des notifications.",date:new Date("2024-12-11"),category:"Interface",link:"/lab",icon:_e},{id:"6",type:"improvement",title:"Page d'accueil immersive",description:"Refonte complète de la page d'accueil avec hero section animée, navigation intégrée et présentation des fonctionnalités principales du site.",date:new Date("2024-12-10"),category:"Interface",link:"/",icon:De},{id:"7",type:"improvement",title:"Historique des créations",description:"Sauvegarde automatique de toutes vos créations (textes, images, vidéos) avec possibilité de les consulter, télécharger ou supprimer depuis chaque page.",date:new Date("2024-12-09"),category:"Fonctionnalité",link:null,icon:K},{id:"8",type:"improvement",title:"Navigation unifiée",description:"Navigation horizontale intégrée avec header unifié sur toutes les pages. Accès rapide à toutes les fonctionnalités depuis n'importe quelle page.",date:new Date("2024-12-08"),category:"Interface",link:null,icon:me},{id:"9",type:"improvement",title:"Page Informations utiles",description:"Guide complet avec conseils pratiques pour créer de meilleurs prompts, optimiser vos images et améliorer votre workflow de création.",date:new Date("2024-12-07"),category:"Ressources",link:"/a-savoir",icon:q},{id:"10",type:"fix",title:"Correction de l'affichage mobile",description:"Résolution des problèmes d'affichage sur mobile et tablette. Interface maintenant parfaitement responsive sur tous les appareils.",date:new Date("2024-12-06"),category:"Technique",link:null,icon:pe},{id:"11",type:"update",title:"Amélioration des performances",description:"Optimisation du code et réduction du temps de chargement. Meilleure gestion de la mémoire pour une expérience plus fluide.",date:new Date("2024-12-05"),category:"Technique",link:null,icon:Z},{id:"12",type:"feature",title:"Système d'authentification",description:"Mise en place de l'authentification avec Supabase. Créez un compte pour sauvegarder vos créations et accéder à votre historique personnel.",date:new Date("2024-12-04"),category:"Sécurité",link:"/login",icon:me}];function Et(){const[t,r]=s.useState(""),[n,u]=s.useState("all"),[c,x]=s.useState("all"),o=s.useMemo(()=>[...new Set(X.map(a=>a.category))].sort(),[]),f=s.useMemo(()=>{let a=[...X].sort((m,l)=>l.date-m.date);if(n!=="all"&&(a=a.filter(m=>m.type===n)),c!=="all"&&(a=a.filter(m=>m.category===c)),t.trim()){const m=t.toLowerCase();a=a.filter(l=>l.title.toLowerCase().includes(m)||l.description.toLowerCase().includes(m))}return a},[t,n,c]),d=s.useMemo(()=>({total:X.length,features:X.filter(a=>a.type==="feature").length,improvements:X.filter(a=>a.type==="improvement").length,fixes:X.filter(a=>a.type==="fix").length}),[]);return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx(ne,{green:"Journal",white:"des Événements",subtitle:"Découvrez l'évolution et les nouveautés de la plateforme"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 mb-8",children:[e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-violet-300",children:d.total}),e.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Total"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-300",children:d.features}),e.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Fonctionnalités"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:d.improvements}),e.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Améliorations"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-violet-300",children:d.fixes}),e.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Corrections"})]})]}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Rechercher un événement...",value:t,onChange:a=>r(a.target.value),className:"w-full pl-12 pr-12 py-3 glass-strong border border-white/10 rounded-xl text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all"}),t&&e.jsx("button",{onClick:()=>r(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors",children:e.jsx(U,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg border transition-all ${n==="all"?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":"glass-strong border-white/10 text-gray-300 hover:border-white/20"}`,children:[e.jsx(rt,{className:"w-4 h-4 inline mr-2"}),"Tout"]}),Object.entries(le).map(([a,m])=>{const l=m.icon;return e.jsxs("button",{onClick:()=>u(a),className:`px-4 py-2 rounded-lg border transition-all flex items-center gap-2 ${n===a?`${m.bg} ${m.border} ${m.text}`:"glass-strong border-white/10 text-gray-300 hover:border-white/20"}`,children:[e.jsx(l,{className:"w-4 h-4"}),m.label]},a)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>x("all"),className:`px-3 py-1.5 text-sm rounded-lg border transition-all ${c==="all"?"bg-white/10 border-white/30 text-white":"bg-white/5 border-white/10 text-gray-400 hover:border-white/20"}`,children:"Toutes les catégories"}),o.map(a=>e.jsx("button",{onClick:()=>x(a),className:`px-3 py-1.5 text-sm rounded-lg border transition-all ${c===a?"bg-white/10 border-white/30 text-white":"bg-white/5 border-white/10 text-gray-400 hover:border-white/20"}`,children:a},a))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-cyan-500/30 via-violet-500/30 to-yellow-500/30 hidden md:block"}),e.jsx("div",{className:"space-y-6",children:f.length>0?f.map((a,m)=>{const l=le[a.type]||le.update,v=a.icon||l.icon,g=m%2===0;return e.jsxs("div",{className:"relative flex items-start gap-6 group",style:{animationDelay:`${m*.1}s`},children:[e.jsx("div",{className:"hidden md:flex items-center justify-center w-16 flex-shrink-0 relative z-10",children:e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l.border} ${l.bg} flex items-center justify-center`,children:e.jsx(v,{className:`w-2.5 h-2.5 ${l.text}`})})}),e.jsx("div",{className:`flex-1 glass-strong rounded-xl border border-white/10 p-6 hover:border-white/20 hover:bg-white/5 transition-all group-hover:scale-[1.02] ${g?"md:ml-0":"md:ml-16"}`,children:e.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg ${l.bg} ${l.border} border flex items-center justify-center flex-shrink-0`,children:e.jsx(v,{className:`w-6 h-6 ${l.text}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${l.bg} ${l.border} border ${l.text}`,children:l.label}),e.jsx("span",{className:"text-xs text-gray-500 bg-white/5 px-2 py-1 rounded border border-white/10",children:a.category}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Le,{className:"w-3 h-3"}),a.date.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2 group-hover:text-white transition-colors",children:a.title}),e.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:a.description}),a.link&&e.jsxs(T,{to:a.link,className:"inline-flex items-center gap-1.5 text-sm font-medium text-emerald-400 hover:text-emerald-300 transition-colors group/link",children:["Découvrir",e.jsx(A,{className:"w-4 h-4 group-hover/link:scale-110 transition-transform"})]})]})]})})})]},a.id)}):e.jsxs("div",{className:"text-center py-16 glass-strong rounded-xl border border-white/10",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:"Aucun événement trouvé"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Essayez de modifier vos filtres"})]})})]})]})})}async function Oe({kind:t,limit:r=20}){const n=te(),{data:{user:u}}=await n.auth.getUser();if(!u)return[];let c=n.from("history").select("*").eq("user_id",u.id).order("created_at",{ascending:!1}).limit(r);t&&(c=c.eq("kind",t));const{data:x,error:o}=await c;return o?(console.error("Erreur listHistory:",o),[]):x??[]}const Ae="history_v2";function J(){try{const t=localStorage.getItem(Ae);return t?JSON.parse(t):[]}catch{return[]}}function se(t){try{localStorage.setItem(Ae,JSON.stringify(t))}catch{}}function It(t){const r=J();se([{...t,pinned:!1},...r])}function G(){return J().filter(t=>t.kind==="prompt")}function _t(){const[t,r]=s.useState("veo3");return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-8",children:[e.jsx(ne,{green:"Prompts",white:"Assistant",subtitle:"Transforme tes idées en prompts détaillés pour la génération vidéo."}),e.jsxs("div",{className:"glass-strong inline-flex rounded-lg overflow-hidden border border-white/10 p-1",children:[e.jsxs(ie,{active:t==="veo3",onClick:()=>r("veo3"),children:[e.jsx(Z,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"VEO3"})]}),e.jsxs(ie,{active:t==="sora2",onClick:()=>r("sora2"),children:[e.jsx(ae,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Sora2"})]}),e.jsxs(ie,{active:t==="history",onClick:()=>r("history"),children:[e.jsx(K,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Historique"})]})]})]}),t==="veo3"?e.jsx(Dt,{}):t==="sora2"?e.jsx($t,{}):e.jsx(Lt,{})]})}function ie({active:t,onClick:r,children:n}){return e.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 rounded-md ${t?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"text-gray-400 hover:text-gray-200 hover:bg-white/5"}`,children:n})}function Dt(){const{session:t}=V(),[r,n]=s.useState(""),[u,c]=s.useState(""),[x,o]=s.useState(!1),f=s.useMemo(()=>r.trim().length<8,[r]),[d,a]=s.useState(!1),[m,l]=s.useState(()=>G()),v=s.useRef(null),g=s.useRef("");s.useEffect(()=>{u&&u!==g.current&&(g.current=u,l(G()))},[u]);const N=()=>{a(!1),n(""),c(""),o(!1)},S=async()=>{if(u)try{await navigator.clipboard.writeText(u),o(!0),setTimeout(()=>o(!1),2e3)}catch{alert("Impossible de copier")}},j=async()=>{if(!(f||d)){a(!0),c("");try{await new Promise(p=>setTimeout(p,2e3));const i=`[SCENE]
${r}

[SETTINGS]
- Style: Cinematic
- Quality: High
- Duration: 10s
- Camera: Dynamic tracking

[DIALOGUE]
French dialogue here based on your scene...`;c(i),It({id:crypto.randomUUID?.()||String(Date.now()),kind:"prompt",input:r,output:i,createdAt:new Date().toISOString()}),l(G())}catch{alert("Erreur lors de la génération")}finally{a(!1)}}},h=i=>{const p=J();se(p.filter(C=>C.id!==i)),l(G())};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-emerald-400"}),"Ton idée (2–3 lignes)"]}),e.jsx("textarea",{value:r,onChange:i=>n(i.target.value),className:"w-full rounded-lg border border-white/10 p-4 min-h-[180px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all resize-none bg-white/5",placeholder:"Ex : Un ado rentre sous la pluie, se parle à la caméra façon vlog, ambiance cinématique avec des reflets sur les vitres, musique douce en arrière-plan..."}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Décris ta scène de manière naturelle. Le générateur produira un prompt VEO3 détaillé avec sections, dialogues et paramètres."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:j,disabled:f||d,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${f||d?"bg-white/5 text-gray-500 cursor-not-allowed border border-white/10":"bg-gradient-to-r from-emerald-500 to-emerald-400 text-white hover:from-emerald-400 hover:to-emerald-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_25px_rgba(16,185,129,0.4)] active:scale-95"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Génération en cours…"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4"}),"Générer le prompt"]})}),e.jsx("button",{onClick:N,className:"px-4 py-3 rounded-lg font-medium bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10 transition-all active:scale-95",children:"Réinitialiser"})]}),u&&e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4 text-emerald-400"}),"Prompt généré (VEO3)"]}),e.jsx("button",{onClick:S,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${x?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-3.5 h-3.5"}),"Copié"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-3.5 h-3.5"}),"Copier"]})})]}),e.jsx("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:e.jsx("pre",{ref:v,className:"whitespace-pre-wrap text-gray-200 text-sm font-mono leading-relaxed",children:u})})]}),!u&&!d&&e.jsxs("div",{className:"glass-strong rounded-xl p-8 border border-white/10 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(ae,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Saisis ton idée ci-dessus et génère ton prompt"})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10 sticky top-24",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-emerald-400"}),"Historique récent"]})}),m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(q,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Aucun prompt généré"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tes prompts apparaîtront ici"})]}):e.jsx("div",{className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto",children:m.slice(0,10).map(i=>e.jsxs("div",{className:"group relative overflow-hidden rounded-lg border border-white/10 hover:border-emerald-500/50 transition-all bg-white/5 p-3",children:[e.jsxs("button",{onClick:()=>{n(i.input||""),c(i.output||"")},className:"w-full text-left",children:[e.jsx("div",{className:"text-xs font-medium text-gray-300 line-clamp-2 mb-2",children:i.input||i.output||"Sans titre"}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[e.jsx("span",{children:new Date(i.created_at||i.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),i.model&&e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300",children:i.model.toUpperCase()})]})]}),e.jsx("button",{onClick:()=>h(i.id),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-500/80 hover:bg-red-500 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Supprimer",children:e.jsx(U,{className:"w-3 h-3 text-white"})})]},i.id))})]})})]})}function Lt(){const{session:t}=V(),[r,n]=s.useState([]),[u,c]=s.useState(!0),[x,o]=s.useState("");s.useEffect(()=>{(async()=>{if(t)try{const l=await Oe({kind:"prompt",limit:50});n(l)}catch(l){console.error("Erreur chargement historique:",l),n(G())}else n(G());c(!1)})()},[t]);const f=s.useMemo(()=>{if(!x.trim())return r;const l=x.toLowerCase();return r.filter(v=>(v.input||"").toLowerCase().includes(l)||(v.output||"").toLowerCase().includes(l))},[r,x]),d=()=>{if(!confirm("Supprimer tout l'historique ?"))return;const l=J();se(l.filter(v=>v.kind!=="prompt"||v.pinned)),n(G())},a=l=>{window.dispatchEvent(new CustomEvent("onetool:prompt:load",{detail:{input:l.input,output:l.output}})),alert("Chargé dans l'éditeur ✅ (onglet VEO3)")},m=l=>{const v=J();se(v.filter(g=>g.id!==l)),n(G())};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"glass-strong rounded-xl p-4 border border-white/10 flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{value:x,onChange:l=>o(l.target.value),placeholder:"Rechercher dans l'historique…",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-white/10 bg-white/5 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all"}),x&&e.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(U,{className:"w-3 h-3 text-gray-400"})})]}),r.length>0&&e.jsxs("button",{onClick:d,className:"px-4 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-red-500/10 hover:border-red-500/30 text-gray-300 hover:text-red-300 transition-all flex items-center gap-2",title:"Effacer tout l'historique",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Nettoyer"})]})]}),u?e.jsxs("div",{className:"glass-strong rounded-xl p-12 border border-white/10 text-center",children:[e.jsx("div",{className:"w-8 h-8 mx-auto border-2 border-white/10 border-t-emerald-500/50 rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Chargement…"})]}):f.length===0?e.jsxs("div",{className:"glass-strong rounded-xl p-12 border border-white/10 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(K,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:x?"Aucun résultat trouvé":"Aucun prompt enregistré"}),x&&e.jsx("button",{onClick:()=>o(""),className:"mt-2 text-xs text-emerald-400 hover:text-emerald-300",children:"Effacer la recherche"})]}):e.jsx("div",{className:"space-y-3",children:f.map(l=>e.jsx("div",{className:"glass-strong rounded-xl p-4 border border-white/10 hover:border-emerald-500/30 transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("button",{onClick:()=>a(l),className:"flex-1 text-left hover:opacity-80 transition-opacity",title:"Charger dans l'éditeur",children:[e.jsx("div",{className:"text-sm font-medium text-gray-200 line-clamp-2 mb-2",children:l.output||l.input||"Sans titre"}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[e.jsx("span",{children:new Date(l.created_at||l.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),l.model&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"·"}),e.jsx("span",{className:"px-2 py-0.5 rounded bg-emerald-500/10 text-emerald-300",children:l.model.toUpperCase()})]})]})]}),e.jsx("button",{onClick:()=>m(l.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-lg hover:bg-red-500/10 text-gray-400 hover:text-red-300",title:"Supprimer",children:e.jsx(ue,{className:"w-4 h-4"})})]})},l.id))})]})}function $t(){return e.jsxs("div",{className:"glass-strong rounded-xl p-8 border border-white/10 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(ae,{className:"w-8 h-8 text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Spécialisation Sora2"}),e.jsxs("p",{className:"text-sm text-gray-400 max-w-md mx-auto",children:["Le générateur de prompts ",e.jsx("strong",{className:"text-emerald-400",children:"Sora2"})," sera disponible prochainement. Dis-moi le format exact voulu, je reproduis la même génération riche."]})]})}const we=20,Ne=1;function B(t){return t?`u:${t}`:"guest"}function Se(t){try{const r=localStorage.getItem(`credits:${B(t)}`);return r==null?(localStorage.setItem(`credits:${B(t)}`,String(we)),we):Number(r)||0}catch{return 0}}function Tt(t,r){try{localStorage.setItem(`credits:${B(t)}`,String(r))}catch{}}const qe="history_v2";function re(){try{const t=localStorage.getItem(qe);return t?JSON.parse(t):[]}catch{return[]}}function xe(t){try{localStorage.setItem(qe,JSON.stringify(t))}catch{}}function Rt({uid:t,prompt:r,urls:n,meta:u}){const c=crypto.randomUUID?.()||String(Date.now()),x=new Date().toISOString(),o={id:c,kind:"image",prompt:r,output:null,urls:n,meta:u,createdAt:x,pinned:!1,owner:B(t)},f=re();xe([o,...f])}function W(t){const r=B(t);return re().filter(n=>n.kind==="image"&&n.owner===r)}function Mt(){const{session:t}=V(),r=t?.user?.id,[n,u]=s.useState(""),[c,x]=s.useState("16:9"),[o,f]=s.useState(4),[d]=s.useState("Image-01"),[a,m]=s.useState(null),[l,v]=s.useState(!1),[g,N]=s.useState(()=>W(r)),[S,j]=s.useState(()=>Se(r));s.useEffect(()=>{j(Se(r)),N(W(r))},[r]);const h=s.useMemo(()=>Ne*Number(o||0),[o]),i=s.useMemo(()=>!!n.trim()&&!l&&S>=h,[n,l,S,h]),p=s.useRef(null),C=()=>p.current?.click(),y=b=>{const $=b.target.files?.[0];if(!$)return;const w=new FileReader;w.onload=()=>m(String(w.result)),w.readAsDataURL($)};async function E(){if(i){v(!0);try{const b=await fetch("/api/hailuo-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,ratio:c,quantity:o,model:d,refCharacter:a})});if(!b.ok){const M=await b.text().catch(()=>"");throw new Error(M||"Erreur de génération")}const $=await b.json().catch(()=>null),w=Array.isArray($?.urls)?$.urls:[];if(w.length===0)throw new Error("Aucune image reçue");Rt({uid:r,prompt:n,urls:w,meta:{ratio:c,model:d,quantity:o}}),N(W(r));const k=S-w.length*Ne;j(k),Tt(r,k),u("")}catch(b){alert(b?.message||"Erreur inconnue")}finally{v(!1)}}}const R=()=>m(null),L=b=>{const $=re();xe($.filter(w=>w.id!==b)),N(W(r))},I=()=>{const b=B(r),$=re();xe($.filter(w=>!(w.kind==="image"&&w.owner===b&&!w.pinned))),N(W(r))},_=[{value:"16:9",label:"16:9",icon:"▭"},{value:"1:1",label:"1:1",icon:"▢"},{value:"9:16",label:"9:16",icon:"▯"},{value:"4:5",label:"4:5",icon:"▬"}];return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-8",children:[e.jsx(ne,{green:"Images",white:"Génération",subtitle:"Transforme tes idées en images avec l'intelligence artificielle."}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"glass-strong px-4 py-2 rounded-lg border border-emerald-500/20",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-emerald-400"}),e.jsxs("span",{className:"text-sm font-medium text-gray-200",children:[e.jsx("span",{className:"text-emerald-400 font-semibold",children:S})," crédits"]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-emerald-400"}),"Description de l'image"]}),e.jsx("textarea",{className:"w-full rounded-lg p-4 min-h-[160px] bg-white/5 border border-white/10 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all resize-none",placeholder:"Décris l'image que tu veux créer… Ex: 'Un paysage montagneux au coucher du soleil avec des couleurs vives, style réaliste'",value:n,onChange:b=>u(b.target.value)}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Sois précis : style, sujet, lumière, ambiance, couleurs."})]}),e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-emerald-400"}),"Image de référence (optionnel)"]}),a&&e.jsxs("button",{onClick:R,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),"Retirer"]})]}),a?e.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg border border-white/10 group",children:[e.jsx("img",{src:a,alt:"Référence",className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("button",{onClick:R,className:"px-3 py-1.5 bg-red-500/80 hover:bg-red-500 rounded-lg text-sm text-white transition-colors",children:"Supprimer"})})]}):e.jsxs("button",{type:"button",onClick:C,className:"w-full rounded-lg p-8 border-2 border-dashed border-white/20 hover:border-emerald-500/50 bg-white/5 hover:bg-white/10 transition-all text-center group",children:[e.jsx(je,{className:"w-8 h-8 text-gray-400 group-hover:text-emerald-400 mx-auto mb-2 transition-colors"}),e.jsx("p",{className:"text-sm text-gray-400 group-hover:text-gray-300",children:"Clique pour ajouter une image de référence"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pour guider le style ou le visage"})]}),e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:y,className:"hidden"})]}),e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Paramètres"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Format"}),e.jsx("div",{className:"flex gap-2",children:_.map(b=>e.jsxs("button",{onClick:()=>x(b.value),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${c===b.value?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-gray-300 border border-white/10"}`,children:[e.jsx("span",{className:"block",children:b.icon}),e.jsx("span",{className:"text-xs mt-0.5",children:b.label})]},b.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Quantité"}),e.jsx("select",{className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all",value:o,onChange:b=>f(Number(b.target.value)),children:[1,2,3,4].map(b=>e.jsxs("option",{value:b,className:"bg-[#0C1116]",children:[b," image",b>1?"s":""]},b))})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[e.jsxs("span",{children:["Modèle : ",e.jsx("span",{className:"text-gray-300 font-medium",children:d})]}),e.jsxs("span",{children:["Coût : ",e.jsxs("span",{className:"text-emerald-400 font-semibold",children:[h," crédit",h>1?"s":""]})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:E,disabled:!i,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${i?"bg-gradient-to-r from-emerald-500 to-emerald-400 text-white hover:from-emerald-400 hover:to-emerald-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_25px_rgba(16,185,129,0.4)] active:scale-95":"bg-white/5 text-gray-500 cursor-not-allowed border border-white/10"}`,title:S<h?"Crédits insuffisants":n.trim()?"":"Saisis une description",children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Génération en cours…"]}):`Générer ${o} image${o>1?"s":""}`}),e.jsx("button",{onClick:()=>{u(""),m(null)},className:"px-4 py-3 rounded-lg font-medium bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10 transition-all active:scale-95",children:"Réinitialiser"})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-emerald-400"}),"Mes créations"]}),g.length>0&&e.jsx("button",{onClick:I,className:"text-xs text-gray-400 hover:text-red-400 transition-colors flex items-center gap-1",title:"Supprimer toutes les images",children:e.jsx(ue,{className:"w-3 h-3"})})]}),g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(z,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Aucune image générée"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tes créations apparaîtront ici"})]}):e.jsx("div",{className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto",children:g.slice(0,12).map(b=>e.jsx("div",{className:"group relative overflow-hidden rounded-lg border border-white/10 hover:border-emerald-500/50 transition-all bg-white/5",children:e.jsxs("div",{className:"aspect-square relative",children:[b.urls?.[0]?e.jsx("img",{src:b.urls[0],alt:b.prompt||"Création",className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5",children:e.jsx(z,{className:"w-8 h-8 text-gray-500"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[e.jsx("p",{className:"text-xs text-white line-clamp-2 mb-2",children:b.prompt||"Sans description"}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-300",children:[e.jsx("span",{children:new Date(b.createdAt).toLocaleDateString()}),e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300",children:b.meta?.ratio||"16:9"})]})]})}),e.jsx("button",{onClick:()=>L(b.id),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-500/80 hover:bg-red-500 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Supprimer",children:e.jsx(U,{className:"w-3 h-3 text-white"})})]})},b.id))})]})})]})]})}const Fe=[{value:"16:9",label:"16:9",icon:"▭"},{value:"9:16",label:"9:16",icon:"▯"},{value:"1:1",label:"1:1",icon:"▢"},{value:"21:9",label:"21:9",icon:"▬"},{value:"4:5",label:"4:5",icon:"▬"}],Pe={veo3:["8s"],sora2:["10s","15s"]},ze="history_v2";function ve(){try{return JSON.parse(localStorage.getItem(ze)||"[]")}catch{return[]}}function Ge(t){try{localStorage.setItem(ze,JSON.stringify(t))}catch{}}function Ue(t){const r=ve();Ge([{...t,pinned:!1},...r]),window.dispatchEvent(new Event("onetool:history:changed"))}function oe(){return ve().filter(t=>t.kind==="video")}function Ot(){const[t,r]=s.useState("veo3");return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-8",children:[e.jsx(ne,{green:"Vidéos",white:"Génération",subtitle:"Crée des vidéos avec l'intelligence artificielle."}),e.jsxs("div",{className:"glass-strong inline-flex rounded-lg overflow-hidden border border-white/10 p-1",children:[e.jsxs(Ce,{active:t==="veo3",onClick:()=>r("veo3"),children:[e.jsx(Z,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"VEO3"})]}),e.jsxs(Ce,{active:t==="sora2",onClick:()=>r("sora2"),children:[e.jsx(ae,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Sora2"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:t==="veo3"?e.jsx(At,{}):e.jsx(qt,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Ft,{model:t})})]})]})}function Ce({active:t,onClick:r,children:n}){return e.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 rounded-md ${t?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"text-gray-400 hover:text-gray-200 hover:bg-white/5"}`,children:n})}function At(){const[t,r]=s.useState(""),[n,u]=s.useState(""),[c,x]=s.useState("16:9"),[o,f]=s.useState("8s"),[d,a]=s.useState(!1),[m,l]=s.useState(!1),v=s.useMemo(()=>t.trim().length<8,[t]),g=s.useRef(null),N=s.useRef(null);s.useEffect(()=>{const i=()=>{window.dispatchEvent(new Event("onetool:history:changed"))};return window.addEventListener("onetool:history:changed",i),()=>window.removeEventListener("onetool:history:changed",i)},[n]);const S=async()=>{if(v||d)return;a(!0),u(""),l(!1),g.current?.abort?.();const i=new AbortController;g.current=i;try{await new Promise(C=>setTimeout(C,2e3));const p=`[SCENE]
${t}

[SETTINGS]
- Format: ${c}
- Duration: ${o}
- Style: Cinematic
- Quality: High

[VIDEO_PROMPT]
Detailed video description based on your idea...`;u(p),Ue({id:crypto.randomUUID?.()||String(Date.now()),kind:"video",input:t,output:p,model:"veo3",createdAt:new Date().toISOString()})}catch(p){u("⚠️ Erreur : "+(p?.message||String(p)))}finally{a(!1),g.current=null}},j=()=>{g.current?.abort?.(),r(""),u(""),l(!1)},h=async()=>{if(n)try{await navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3)}catch{alert("Impossible de copier")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-emerald-400"}),"Description de la vidéo"]}),e.jsx("textarea",{value:t,onChange:i=>r(i.target.value),className:"w-full rounded-lg border border-white/10 p-4 min-h-[180px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all resize-none bg-white/5",placeholder:"Décris la vidéo (scène, style, ambiance…) — ex : vlog nerveux sous la pluie dans un fast-food néon, caméra tremblante, ambiance cinématique..."}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Sois précis : style, sujet, mouvement, ambiance, lumière."})]}),e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Paramètres"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Format"}),e.jsx("div",{className:"flex gap-2",children:Fe.map(i=>e.jsxs("button",{onClick:()=>x(i.value),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${c===i.value?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-gray-300 border border-white/10"}`,children:[e.jsx("span",{className:"block",children:i.icon}),e.jsx("span",{className:"text-xs mt-0.5",children:i.label})]},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Durée"}),e.jsx("select",{value:o,onChange:i=>f(i.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all",children:Pe.veo3.map(i=>e.jsx("option",{value:i,className:"bg-[#0C1116]",children:i},i))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,disabled:v||d,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${v||d?"bg-white/5 text-gray-500 cursor-not-allowed border border-white/10":"bg-gradient-to-r from-emerald-500 to-emerald-400 text-white hover:from-emerald-400 hover:to-emerald-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_25px_rgba(16,185,129,0.4)] active:scale-95"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Génération en cours…"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4"}),"Générer la vidéo"]})}),e.jsx("button",{onClick:j,className:"px-4 py-3 rounded-lg font-medium bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10 transition-all active:scale-95",children:"Réinitialiser"})]}),n&&e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-emerald-400"}),"Prompt généré (VEO3)"]}),e.jsx("button",{onClick:h,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${m?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-3.5 h-3.5"}),"Copié"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-3.5 h-3.5"}),"Copier"]})})]}),e.jsx("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:e.jsx("pre",{ref:N,className:"whitespace-pre-wrap text-gray-200 text-sm font-mono leading-relaxed",children:n})})]}),!n&&!d&&e.jsxs("div",{className:"glass-strong rounded-xl p-8 border border-white/10 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Saisis ta description ci-dessus et génère ta vidéo"})]})]})}function qt(){const[t,r]=s.useState(""),[n,u]=s.useState(""),[c,x]=s.useState("16:9"),[o,f]=s.useState("10s"),[d,a]=s.useState(!1),[m,l]=s.useState(!1),v=s.useMemo(()=>t.trim().length<8,[t]),g=s.useRef(null),N=s.useRef(null);s.useEffect(()=>{const i=()=>{window.dispatchEvent(new Event("onetool:history:changed"))};return window.addEventListener("onetool:history:changed",i),()=>window.removeEventListener("onetool:history:changed",i)},[n]);const S=async()=>{if(v||d)return;a(!0),u(""),l(!1),g.current?.abort?.();const i=new AbortController;g.current=i;try{await new Promise(C=>setTimeout(C,2e3));const p=`[SCENE]
${t}

[SETTINGS]
- Format: ${c}
- Duration: ${o}
- Style: Cinematic
- Quality: High

[SORA2_PROMPT]
Detailed video description for Sora2 based on your idea...`;u(p),Ue({id:crypto.randomUUID?.()||String(Date.now()),kind:"video",input:t,output:p,model:"sora2",createdAt:new Date().toISOString()})}catch(p){u("⚠️ Erreur : "+(p?.message||String(p)))}finally{a(!1),g.current=null}},j=()=>{g.current?.abort?.(),r(""),u(""),l(!1)},h=async()=>{if(n)try{await navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3)}catch{alert("Impossible de copier")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-emerald-400"}),"Description de la vidéo"]}),e.jsx("textarea",{value:t,onChange:i=>r(i.target.value),className:"w-full rounded-lg border border-white/10 p-4 min-h-[180px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all resize-none bg-white/5",placeholder:"Décris la vidéo pour Sora2 (format / plans / ambiance)…"}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Sois précis : style, sujet, mouvement, ambiance, lumière."})]}),e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Paramètres"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Format"}),e.jsx("div",{className:"flex gap-2",children:Fe.map(i=>e.jsxs("button",{onClick:()=>x(i.value),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${c===i.value?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-gray-300 border border-white/10"}`,children:[e.jsx("span",{className:"block",children:i.icon}),e.jsx("span",{className:"text-xs mt-0.5",children:i.label})]},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Durée"}),e.jsx("select",{value:o,onChange:i=>f(i.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all",children:Pe.sora2.map(i=>e.jsx("option",{value:i,className:"bg-[#0C1116]",children:i},i))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,disabled:v||d,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${v||d?"bg-white/5 text-gray-500 cursor-not-allowed border border-white/10":"bg-gradient-to-r from-emerald-500 to-emerald-400 text-white hover:from-emerald-400 hover:to-emerald-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_25px_rgba(16,185,129,0.4)] active:scale-95"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Génération en cours…"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4"}),"Générer la vidéo"]})}),e.jsx("button",{onClick:j,className:"px-4 py-3 rounded-lg font-medium bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10 transition-all active:scale-95",children:"Réinitialiser"})]}),n&&e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-emerald-400"}),"Prompt généré (Sora2)"]}),e.jsx("button",{onClick:h,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${m?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-3.5 h-3.5"}),"Copié"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-3.5 h-3.5"}),"Copier"]})})]}),e.jsx("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:e.jsx("pre",{ref:N,className:"whitespace-pre-wrap text-gray-200 text-sm font-mono leading-relaxed",children:n})})]}),!n&&!d&&e.jsxs("div",{className:"glass-strong rounded-xl p-8 border border-white/10 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Saisis ta description ci-dessus et génère ta vidéo"})]})]})}function Ft({model:t}){const[r,n]=s.useState(()=>oe()),[u,c]=s.useState("");s.useEffect(()=>{const d=()=>{const m=oe().filter(l=>(l.model||"").toLowerCase()===t);n(m)};return d(),window.addEventListener("onetool:history:changed",d),()=>window.removeEventListener("onetool:history:changed",d)},[t]);const x=s.useMemo(()=>{if(!u.trim())return r;const d=u.toLowerCase();return r.filter(a=>(a.input||"").toLowerCase().includes(d)||(a.output||"").toLowerCase().includes(d))},[r,u]),o=d=>{const a=ve();Ge(a.filter(m=>m.id!==d)),n(oe().filter(m=>(m.model||"").toLowerCase()===t))},f=d=>{window.dispatchEvent(new CustomEvent("onetool:video:load",{detail:{input:d.input,output:d.output}}))};return e.jsxs("div",{className:"glass-strong rounded-xl p-6 border border-white/10 sticky top-24",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-emerald-400"}),"Historique ",t.toUpperCase()]})}),r.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{value:u,onChange:d=>c(d.target.value),placeholder:"Rechercher…",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-white/10 bg-white/5 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all text-sm"}),u&&e.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(U,{className:"w-3 h-3 text-gray-400"})})]})}),x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:u?"Aucun résultat trouvé":"Aucune vidéo générée"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u?"":"Tes vidéos apparaîtront ici"})]}):e.jsx("div",{className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto",children:x.slice(0,12).map(d=>e.jsxs("div",{className:"group relative overflow-hidden rounded-lg border border-white/10 hover:border-emerald-500/50 transition-all bg-white/5 p-3",children:[e.jsxs("button",{onClick:()=>f(d),className:"w-full text-left",children:[e.jsx("div",{className:"text-xs font-medium text-gray-300 line-clamp-2 mb-2",children:d.input||d.output||"Sans titre"}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[e.jsx("span",{children:new Date(d.created_at||d.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),d.model&&e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300",children:d.model.toUpperCase()})]})]}),e.jsx("button",{onClick:()=>o(d.id),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-500/80 hover:bg-red-500 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Supprimer",children:e.jsx(U,{className:"w-3 h-3 text-white"})})]},d.id))})]})}const ce=[{id:"prompts",icon:q,title:"Création de prompts",color:"cyan",gradient:"from-cyan-500/20 to-cyan-400/10",border:"border-cyan-500/30",items:[{title:"Structure efficace",content:"Commence par définir le contexte, puis l'action principale, et termine par le style souhaité. Exemple : 'Un développeur dans un bureau moderne, en train de coder sur un écran lumineux, style cinématique avec éclairage dramatique'.",example:"Contexte → Action → Style"},{title:"Détails techniques",content:"Spécifie la caméra, l'éclairage et le ton. Pour VEO3, utilise les paramètres Scene, Style, Camera, Lighting et Tone pour un contrôle précis du rendu final.",example:"Camera: close-up | Lighting: golden hour"},{title:"Dialogues en français",content:"Pour les vidéos avec dialogues, indique clairement les répliques en français. Le système traduira et adaptera automatiquement la prononciation.",example:"Dialogue: 'Bonjour, comment allez-vous ?'"}]},{id:"images",icon:z,title:"Génération d'images",color:"violet",gradient:"from-violet-500/20 to-violet-400/10",border:"border-violet-500/30",items:[{title:"Descriptions précises",content:"Plus ta description est détaillée, meilleur sera le résultat. Mentionne la composition, les couleurs, l'ambiance et le style artistique souhaité.",example:"Portrait d'une femme, style réaliste, éclairage doux, fond flou"},{title:"Personnages de référence",content:"Utilise l'option de personnage de référence pour maintenir la cohérence visuelle dans une série d'images. Idéal pour créer des personnages récurrents.",example:"Même personnage, différentes poses"},{title:"Formats adaptés",content:"Choisis le format selon l'usage : carré pour Instagram, paysage pour bannières, portrait pour stories. Chaque format a son impact visuel.",example:"16:9 pour vidéos | 1:1 pour posts"}]},{id:"workflow",icon:Z,title:"Workflow optimisé",color:"yellow",gradient:"from-yellow-500/20 to-yellow-400/10",border:"border-yellow-500/30",items:[{title:"Organisation par projets",content:"Regroupe tes créations par projet pour garder une vue d'ensemble. Un projet peut contenir plusieurs prompts, images et vidéos liés.",example:"Projet 'Campagne Marketing' → 5 prompts, 10 images"},{title:"Historique intelligent",content:"Tous tes contenus sont sauvegardés automatiquement. Tu peux retrouver, modifier et réutiliser n'importe quelle création précédente.",example:"Accès rapide aux dernières créations"},{title:"Itérations rapides",content:"Teste plusieurs variations en ajustant légèrement tes prompts. Les meilleurs résultats viennent souvent de petites modifications successives.",example:"Version 1 → Ajustement → Version 2 → Final"}]},{id:"tips",icon:at,title:"Conseils pratiques",color:"emerald",gradient:"from-emerald-500/20 to-emerald-400/10",border:"border-emerald-500/30",items:[{title:"Commence simple",content:"Pour tes premiers essais, utilise des prompts courts et clairs. Une fois que tu maîtrises, tu peux ajouter plus de détails et de complexité.",example:"Simple: 'Un chat dans un jardin' → Avancé: 'Un chat persan orange dans un jardin japonais, style photographie macro, éclairage naturel matinal'"},{title:"Expérimente les styles",content:"N'hésite pas à tester différents styles artistiques : réaliste, cartoon, cinématique, abstrait. Chaque style apporte une émotion différente.",example:"Même sujet, styles différents = résultats uniques"},{title:"Sauvegarde tes favoris",content:"Quand tu trouves un prompt qui fonctionne bien, sauvegarde-le comme modèle. Tu pourras le réutiliser et l'adapter pour d'autres créations.",example:"Modèles réutilisables dans l'historique"}]}];function Pt({section:t,isExpanded:r,onToggle:n}){const u=t.icon;return e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden transition-all duration-300 hover:border-white/20",children:[e.jsxs("button",{onClick:n,className:"w-full p-5 flex items-center justify-between hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${t.gradient} ${t.border} border`,children:e.jsx(u,{className:`w-6 h-6 text-${t.color}-300`})}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:t.title})]}),e.jsx(Ie,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${r?"rotate-90":""}`})]}),r&&e.jsx("div",{className:"px-5 pb-5 space-y-4 animate-fadeIn",children:t.items.map((c,x)=>e.jsx("div",{className:"p-4 rounded-lg border border-white/5 bg-white/5 hover:bg-white/10 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx(pe,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-white mb-2",children:c.title}),e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed mb-3",children:c.content}),c.example&&e.jsx("div",{className:"mt-3 p-3 rounded-lg bg-gradient-to-r from-cyan-500/10 to-violet-500/10 border border-cyan-500/20",children:e.jsx("p",{className:"text-xs text-cyan-300 font-mono",children:c.example})})]})]})},x))})]})}function zt(){const[t,r]=s.useState([]),[n,u]=s.useState(null),c=o=>{r(f=>f.includes(o)?f.filter(d=>d!==o):[...f,o])},x=s.useMemo(()=>n?ce.filter(o=>o.id===n):ce,[n]);return s.useMemo(()=>[{id:null,label:"Tout",icon:A},...ce.map(o=>({id:o.id,label:o.title,icon:o.icon}))],[]),e.jsxs("main",{className:"min-h-full relative",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("header",{className:"mb-8",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:e.jsx("span",{className:"bg-gradient-to-r from-cyan-300 via-violet-300 to-cyan-200 bg-clip-text text-transparent",children:"Informations utiles"})}),e.jsx("p",{className:"text-slate-400 text-base max-w-2xl",children:"Guide pratique pour tirer le meilleur parti de OneTool. Découvre les meilleures pratiques, astuces et workflows pour créer du contenu de qualité."})]})}),e.jsx("div",{className:"space-y-4",children:x.map(o=>e.jsx(Pt,{section:o,isExpanded:t.includes(o.id),onToggle:()=>c(o.id)},o.id))})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}function Gt(){const t=Ee(),r=Y(),[n]=Ye(),u=s.useMemo(()=>{const w=new URLSearchParams(r.search).get("next")||"/";return w.startsWith("/")?w:"/"},[r.search]),[c,x]=s.useState("signin"),[o,f]=s.useState(""),[d,a]=s.useState(""),[m,l]=s.useState(!1),[v,g]=s.useState(!1),[N,S]=s.useState(!1),[j,h]=s.useState(null),[i,p]=s.useState(""),[C,y]=s.useState(!1),[E,R]=s.useState(!0),L=s.useMemo(()=>ft(),[]),I=s.useMemo(()=>n.get("confirmed")==="1"?"Adresse confirmée ✅ Vous pouvez vous connecter.":null,[n]),_=s.useMemo(()=>n.get("error"),[n]);s.useEffect(()=>{if(I&&h(I),_)switch(_){case"callback":p("Erreur lors de la validation de la connexion. Veuillez réessayer.");break;case"config":p("Configuration Supabase manquante. Veuillez contacter l'administrateur.");break;case"exchange":p("Erreur lors de l'échange du code d'authentification. Veuillez réessayer.");break;default:p("Une erreur est survenue lors de la connexion.")}},[I,_]);const b=async()=>{p("");try{localStorage.setItem("onetool_oauth_remember",E?"1":"0"),localStorage.setItem("onetool_oauth_next",u)}catch{}try{const w=te({remember:E}),k=void 0,M=void 0;if(!k||!M||k==="https://placeholder.supabase.co"||M==="placeholder-key"){p("Configuration Supabase manquante. Veuillez contacter l'administrateur.");return}const{error:P}=await w.auth.signInWithOAuth({provider:"google",options:{redirectTo:L}});P&&p(P.message)}catch(w){p(w?.message||"Erreur lors de la connexion avec Google")}},$=async w=>{w.preventDefault(),l(!0),p(""),h(null);try{const k=te({remember:E}),M=void 0,P=void 0;if(!M||!P||M==="https://placeholder.supabase.co"||P==="placeholder-key"){p("Configuration Supabase manquante. Veuillez contacter l'administrateur."),l(!1);return}if(c==="signin"){const{error:O}=await k.auth.signInWithPassword({email:o,password:d});if(O){O.message?.toLowerCase().includes("email not confirmed")?p("Ton email n'est pas confirmé. Clique sur le lien reçu lors de l'inscription."):p(O.message),l(!1);return}t(u,{replace:!0})}else{const{data:O,error:H}=await k.auth.signUp({email:o,password:d,options:{emailRedirectTo:L}});if(H){p(H.message),l(!1);return}O.user&&!O.session&&(S(!0),h("Compte créé ! Vérifie ta boîte mail et clique sur « S'enregistrer »."))}}catch(k){p(k?.message||"Erreur inconnue")}finally{l(!1)}};return e.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[s.useMemo(()=>Array.from({length:20},(w,k)=>{const P=["rgba(65, 209, 255, 0.4)","rgba(189, 52, 254, 0.4)","rgba(255, 234, 131, 0.4)"][k%3],O=k*17.3%95,H=k*23.7%90,Ve=6+k%4*1.5,He=k*.15%3;return{i:k,color:P,left:O,top:H,duration:Ve,delay:He}}),[]).map(({i:w,color:k,left:M,top:P,duration:O,delay:H})=>e.jsx("div",{className:"absolute w-1 h-1 rounded-full",style:{background:k,left:`${M}%`,top:`${P}%`,animation:`float ${O}s ease-in-out infinite`,animationDelay:`${H}s`,boxShadow:`0 0 6px ${k}`,opacity:.6}},`particle-${w}`)),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-black mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-cyan-300 via-violet-300 to-yellow-300 bg-clip-text text-transparent",children:c==="signin"?"Connexion":"Créer un compte"})}),e.jsx("p",{className:"text-sm text-gray-400",children:c==="signin"?"Accède à toutes les fonctionnalités":"Rejoins OneTool et commence à créer"})]}),i&&e.jsx("div",{className:"mb-4 p-4 rounded-lg bg-red-500/10 border border-red-500/30 text-red-300 text-sm",children:i}),j&&e.jsx("div",{className:"mb-4 p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/30 text-emerald-300 text-sm",children:j}),e.jsxs("form",{onSubmit:$,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-gray-400"}),"Email"]}),e.jsx("input",{id:"email",type:"email",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all",placeholder:"ton@email.com",value:o,onChange:w=>f(w.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(nt,{className:"w-4 h-4 text-gray-400"}),c==="signin"?"Mot de passe":"Choisis un mot de passe"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:C?"text":"password",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 pr-12 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all",placeholder:"••••••••",value:d,onChange:w=>a(w.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>y(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors",children:C?e.jsx(lt,{className:"w-4 h-4"}):e.jsx(it,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:w=>R(w.target.checked),className:"w-4 h-4 rounded border-white/10 bg-white/5 text-emerald-500 focus:ring-emerald-500/50"}),e.jsx("span",{children:"Rester connecté"})]})}),e.jsx("button",{type:"submit",disabled:m,className:"w-full rounded-lg bg-gradient-to-r from-emerald-500 to-emerald-400 text-white font-semibold py-3 hover:from-emerald-400 hover:to-emerald-300 transition-all duration-300 shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Connexion..."})]}):e.jsxs(e.Fragment,{children:[c==="signin"?e.jsx(ot,{className:"w-4 h-4"}):e.jsx(ct,{className:"w-4 h-4"}),e.jsx("span",{children:c==="signin"?"Se connecter":"Créer le compte"})]})})]}),e.jsxs("div",{className:"my-6 flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-px bg-white/10"}),e.jsx("span",{className:"text-xs text-gray-500",children:"ou"}),e.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),e.jsx("button",{type:"button",onClick:b,disabled:v,className:"w-full rounded-lg bg-white/5 border border-white/10 text-white font-medium py-3 hover:bg-white/10 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Connexion Google..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:"Continuer avec Google"})]})}),e.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:e.jsx("button",{type:"button",onClick:()=>{x(c==="signin"?"signup":"signin"),p(""),h(null),S(!1)},className:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors underline",children:c==="signin"?"Créer un compte":"Se connecter"})}),e.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center leading-relaxed",children:"Tes données sont protégées — aucune utilisation commerciale"})]})})]})}function Ut(){const{supabase:t}=V(),r=s.useRef(!1);return s.useEffect(()=>{r.current||(r.current=!0,t.auth.signOut())},[t]),e.jsx("div",{children:"Déconnexion…"})}function Vt(){const{session:t,signOut:r}=V(),[n,u]=s.useState(!1),[c,x]=s.useState(t?.user?.user_metadata?.full_name||t?.user?.email?.split("@")[0]||"Utilisateur"),[o,f]=s.useState({prompts:0,images:0,videos:0,total:0}),[d,a]=s.useState([]),[m,l]=s.useState(!0);s.useEffect(()=>{t&&v()},[t]);const v=async()=>{l(!0);try{const y=await Oe({limit:1e3}),E=y.filter(_=>_.kind==="prompt").length,R=y.filter(_=>_.kind==="image").length,L=y.filter(_=>_.kind==="video").length;f({prompts:E,images:R,videos:L,total:y.length});const I=y.slice(0,5);a(I)}catch(y){console.error("Erreur chargement stats:",y)}finally{l(!1)}},g=async()=>{try{await r?.()}catch(y){console.error("Erreur déconnexion:",y)}},N=y=>{switch(y){case"prompt":return e.jsx(q,{className:"w-4 h-4"});case"image":return e.jsx(z,{className:"w-4 h-4"});case"video":return e.jsx(F,{className:"w-4 h-4"});default:return e.jsx(A,{className:"w-4 h-4"})}},S=y=>{switch(y){case"prompt":return"Texte";case"image":return"Image";case"video":return"Vidéo";default:return y}},j=y=>{switch(y){case"prompt":return"/prompt";case"image":return"/image";case"video":return"/video";default:return"/"}},h=y=>{if(!y)return"Date inconnue";const E=new Date(y),L=new Date-E,I=Math.floor(L/6e4),_=Math.floor(L/36e5),b=Math.floor(L/864e5);return I<1?"À l'instant":I<60?`Il y a ${I} min`:_<24?`Il y a ${_}h`:b<7?`Il y a ${b}j`:E.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};if(!t)return null;const i=t.user,p=i.email,C=i.created_at?new Date(i.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Date inconnue";return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 border border-cyan-500/30 flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-cyan-400"})}),e.jsx(Q,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-200",children:m?"...":o.prompts}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Textes créés"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-500/20 border border-violet-500/30 flex items-center justify-center",children:e.jsx(z,{className:"w-5 h-5 text-violet-400"})}),e.jsx(Q,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-200",children:m?"...":o.images}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Images créées"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 border border-yellow-500/30 flex items-center justify-center",children:e.jsx(F,{className:"w-5 h-5 text-yellow-400"})}),e.jsx(Q,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-200",children:m?"...":o.videos}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Vidéos créées"})]}),e.jsxs("div",{className:"glass-strong rounded-xl border border-white/10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-emerald-400"})}),e.jsx(Q,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-200",children:m?"...":o.total}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Total créations"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"glass-strong rounded-2xl border border-white/10 p-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white/5 border border-white/10",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:e.jsx(Te,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-gray-200",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white/5 border border-white/10",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Compte créé le"}),e.jsx("p",{className:"text-sm font-medium text-gray-200",children:C})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white/5 border border-white/10",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"ID utilisateur"}),e.jsx("p",{className:"text-sm font-medium text-gray-200 font-mono truncate",children:i.id})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5 text-emerald-400"}),"Paramètres"]}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{onClick:g,className:"w-full flex items-center justify-between p-4 rounded-lg bg-red-500/10 border border-red-500/30 text-red-300 hover:bg-red-500/20 hover:border-red-500/50 transition-all",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(mt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Se déconnecter"})]})})})]}),e.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[e.jsx(ut,{className:"w-5 h-5 text-emerald-400"}),"Historique récent"]}),m?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"Chargement..."}):d.length>0?e.jsx("div",{className:"space-y-2",children:d.map((y,E)=>e.jsxs(T,{to:j(y.kind),className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:N(y.kind)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:S(y.kind)}),e.jsx("p",{className:"text-xs text-gray-400",children:h(y.created_at)})]}),e.jsx(xt,{className:"w-4 h-4 text-gray-400 group-hover:text-emerald-400 transition-colors"})]},E))}):e.jsx("div",{className:"text-center py-8 text-gray-400",children:"Aucun historique"})]})]})]})]})}function Ht(){return e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 text-emerald-400"}),"Hébergement"]}),e.jsx("div",{className:"space-y-2 text-sm text-gray-300",children:e.jsx("p",{children:"Ce site est hébergé par des services cloud modernes, garantissant une disponibilité optimale et une sécurité renforcée."})})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-emerald-400"}),"Protection des données personnelles"]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[e.jsx("p",{children:"Conformément au Règlement Général sur la Protection des Données (RGPD) et à la loi Informatique et Libertés, vous disposez d'un droit d'accès, de rectification, de suppression et d'opposition aux données personnelles vous concernant."}),e.jsx("p",{children:"Les données collectées sont utilisées uniquement dans le cadre du fonctionnement de la plateforme et ne font l'objet d'aucune utilisation commerciale ou de cession à des tiers."}),e.jsx("p",{children:"Pour exercer vos droits, vous pouvez nous contacter via votre profil utilisateur ou supprimer votre compte à tout moment."})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-emerald-400"}),"Cookies"]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[e.jsx("p",{children:"Ce site utilise des cookies techniques nécessaires au fonctionnement de la plateforme et à l'authentification des utilisateurs. Ces cookies ne sont pas utilisés à des fins de tracking ou de publicité."}),e.jsx("p",{children:"En utilisant ce site, vous acceptez l'utilisation de ces cookies techniques."})]})]}),e.jsx("div",{className:"pt-6 border-t border-white/10",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Dernière mise à jour : ",new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})})]})})}const ke=[{text:"Créez des textes puissants",subtext:"avec l'intelligence artificielle"},{text:"Générez des images uniques",subtext:"en quelques secondes"},{text:"Produisez des vidéos",subtext:"sans effort"},{text:"Tout en un seul outil",subtext:"OneTool pour tout créer"}];function Xt({onEnter:t}){const[r,n]=s.useState(!1),[u,c]=s.useState(0),[x,o]=s.useState(0),[f,d]=s.useState(0),[a,m]=s.useState(!1),l=s.useRef(null),v=s.useRef(0),g=s.useRef(0);s.useEffect(()=>{const j=setTimeout(()=>{c(1)},100),h=setTimeout(()=>{n(!0)},1e3),i=setInterval(()=>{o(p=>(p+1)%ke.length)},3500);return()=>{clearTimeout(j),clearTimeout(h),clearInterval(i)}},[]);const N=s.useCallback(()=>{t&&t()},[t]),S=j=>{j.preventDefault(),m(!0);const h=j.clientX||j.touches&&j.touches[0]?.clientX;h&&(v.current=h,g.current=h)};return s.useEffect(()=>{if(!a)return;const j=i=>{if(!l.current)return;i.preventDefault();const p=i.clientX||i.touches&&i.touches[0]?.clientX;if(!p)return;g.current=p;const R=l.current.getBoundingClientRect().width-56-8,I=Math.max(0,Math.min(R,g.current-v.current))/R*100;d(I),I>=85&&(d(100),setTimeout(()=>{N(),m(!1),d(0)},100))},h=()=>{m(!1),d(i=>i<85?0:i)};return document.addEventListener("mousemove",j,{passive:!1}),document.addEventListener("mouseup",h),document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",h),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",h)}},[a,N]),e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-gradient-to-br from-[#050810] via-[#0C1116] to-[#080b10] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1200 800",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"waveGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(65, 209, 255, 0.3)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(189, 52, 254, 0.2)"})]})}),e.jsx("path",{d:"M0,400 Q300,200 600,400 T1200,400 L1200,800 L0,800 Z",fill:"url(#waveGradient1)",className:"animate-wave1"}),e.jsx("path",{d:"M0,500 Q400,300 800,500 T1200,500 L1200,800 L0,800 Z",fill:"url(#waveGradient1)",opacity:"0.6",className:"animate-wave2"})]})}),e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("svg",{className:"absolute inset-0 w-full h-full",children:[...Array(20)].map((j,h)=>{const i=h*37%100,p=h*23%100,C=(h*37+50)%100,y=(h*23+30)%100;return e.jsx("line",{x1:`${i}%`,y1:`${p}%`,x2:`${C}%`,y2:`${y}%`,stroke:`rgba(${h%3===0?"65, 209, 255":h%3===1?"189, 52, 254":"255, 234, 131"}, 0.2)`,strokeWidth:"1",className:"animate-linePulse",style:{animationDelay:`${h*.2}s`}},h)})})}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-[700px] h-[700px] rounded-full blur-3xl animate-organicMove1",style:{background:"radial-gradient(circle, rgba(65,209,255,0.25) 0%, transparent 70%)",animationDuration:"12s"}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[700px] h-[700px] rounded-full blur-3xl animate-organicMove2",style:{background:"radial-gradient(circle, rgba(189,52,254,0.25) 0%, transparent 70%)",animationDuration:"15s",animationDelay:"2s"}}),e.jsx("div",{className:"absolute inset-0",children:[...Array(25)].map((j,h)=>{const i=["rgba(65, 209, 255, 0.5)","rgba(189, 52, 254, 0.5)","rgba(255, 234, 131, 0.5)","rgba(255, 221, 53, 0.5)"],p=3+h%4*2;return e.jsx("div",{className:"absolute rounded-full",style:{width:`${p}px`,height:`${p}px`,backgroundColor:i[h%i.length],left:`${h*13.7%95}%`,top:`${h*19.3%90}%`,animation:`organicFloat ${6+h%4*1.5}s ease-in-out infinite`,animationDelay:`${h*.15}s`,boxShadow:`0 0 ${p*3}px ${i[h%i.length]}`,filter:"blur(1px)"}},h)})})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-6 sm:gap-8 px-4 py-8 w-full max-w-7xl mx-auto",children:[e.jsx("div",{className:"relative w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 shadow-[0_0_80px_rgba(65,209,255,0.6),0_0_120px_rgba(189,52,254,0.4)] flex items-center justify-center flex-shrink-0",children:e.jsxs("svg",{width:"128",height:"128",viewBox:"0 0 256 257",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full drop-shadow-2xl",style:{filter:"drop-shadow(0 0 40px rgba(65,209,255,0.8)) drop-shadow(0 0 60px rgba(189,52,254,0.6))"},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"logoGradient1",x1:"-0.828%",x2:"57.636%",y1:"7.652%",y2:"78.411%",children:[e.jsx("stop",{offset:"0%",stopColor:"#41D1FF"}),e.jsx("stop",{offset:"100%",stopColor:"#BD34FE"})]}),e.jsxs("linearGradient",{id:"logoGradient2",x1:"43.376%",x2:"50.316%",y1:"2.242%",y2:"89.03%",children:[e.jsx("stop",{offset:"0%",stopColor:"#FFEA83"}),e.jsx("stop",{offset:"8.333%",stopColor:"#FFDD35"}),e.jsx("stop",{offset:"100%",stopColor:"#FFA800"})]})]}),e.jsx("path",{d:"M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z",fill:"url(#logoGradient2)"})]})}),e.jsx("div",{className:"relative w-full min-h-[80px] sm:min-h-[100px] md:min-h-[120px] flex items-center justify-center overflow-hidden py-2 sm:py-4 flex-shrink-0",children:e.jsx("div",{className:"relative w-full max-w-4xl flex items-center justify-center",children:ke.map((j,h)=>{const i=h===x,p=h-x;let C="",y=0,E=.92;return i?(C="translateX(0%)",y=1,E=1):(C=`translateX(${p>0?"120%":"-120%"})`,y=0,E=.92),e.jsx("div",{className:"absolute flex flex-col items-center justify-center transition-all duration-1000 ease-[cubic-bezier(0.25,0.46,0.45,0.94)]",style:{transform:`translate(-50%, -50%) ${C} scale(${E})`,opacity:y,pointerEvents:i?"auto":"none",willChange:i?"transform, opacity":"auto",left:"50%",top:"50%",transformOrigin:"center center",width:"100%",maxWidth:"100%"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:j.text}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-300",children:j.subtext})]})},h)})})}),!r&&e.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 transition-opacity duration-500 flex-shrink-0",style:{opacity:u},children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-500/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-cyan-400 border-r-violet-400 animate-spin",style:{animationDuration:"1s"}}),e.jsx("div",{className:"absolute inset-3 rounded-full border-4 border-transparent border-b-violet-300 border-l-cyan-300 animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),e.jsx("div",{className:"absolute inset-6 rounded-full border-4 border-transparent border-t-yellow-300 animate-spin",style:{animationDuration:"2s"}})]}),r&&e.jsxs("div",{className:"relative w-full max-w-md mx-auto flex-shrink-0",children:[e.jsxs("div",{ref:l,className:"relative h-14 sm:h-16 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 overflow-hidden cursor-pointer",onMouseDown:S,onTouchStart:S,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-cyan-400 via-violet-400 to-cyan-400 transition-all duration-150 ease-out",style:{width:`${f}%`,boxShadow:f>0?"0 0 30px rgba(65, 209, 255, 0.6), 0 0 60px rgba(189, 52, 254, 0.4)":"none"}}),e.jsx("div",{className:"absolute top-1 left-1 bottom-1 w-12 sm:w-14 bg-gradient-to-br from-white to-gray-100 rounded-full flex items-center justify-center shadow-lg cursor-grab active:cursor-grabbing transition-transform duration-150 ease-out",style:{transform:`translateX(${(()=>{if(!l.current)return 0;const j=l.current.getBoundingClientRect(),h=j.height-8,i=j.width-h-8;return f/100*i})()}px)`,boxShadow:f>0?"0 0 20px rgba(65, 209, 255, 0.6), 0 0 40px rgba(189, 52, 254, 0.4), 0 4px 12px rgba(0,0,0,0.3)":"0 4px 12px rgba(0,0,0,0.3)"},children:e.jsx(pt,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-200",style:{transform:f>50?"scale(1.2)":"scale(1)",color:f>50?"rgba(65, 209, 255, 1)":"rgba(107, 114, 128, 1)"}})})]}),e.jsx("button",{onClick:N,className:"mt-4 text-xs text-white/40 hover:text-white/60 transition-colors duration-200 underline decoration-dotted underline-offset-2 mx-auto block",style:{fontSize:"10px",letterSpacing:"0.05em"},children:"Entrer directement"})]})]}),e.jsx("style",{children:`
        @keyframes gridMove {
          0% { transform: translate(0, 0); }
          100% { transform: translate(60px, 60px); }
        }
        
        @keyframes diagonalMove {
          0% { transform: translate(0, 0); }
          100% { transform: translate(40px, 40px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.4; }
          50% { transform: translateY(-30px) translateX(15px); opacity: 0.8; }
        }
        
        @keyframes wave1 {
          0%, 100% { d: path("M0,400 Q300,200 600,400 T1200,400 L1200,800 L0,800 Z"); }
          50% { d: path("M0,400 Q300,300 600,400 T1200,400 L1200,800 L0,800 Z"); }
        }
        
        @keyframes wave2 {
          0%, 100% { d: path("M0,500 Q400,300 800,500 T1200,500 L1200,800 L0,800 Z"); }
          50% { d: path("M0,500 Q400,400 800,500 T1200,500 L1200,800 L0,800 Z"); }
        }
        
        @keyframes floatShape {
          0%, 100% { 
            transform: translate(0, 0) rotate(0deg) scale(1);
            opacity: 0.3;
          }
          33% { 
            transform: translate(30px, -40px) rotate(120deg) scale(1.2);
            opacity: 0.6;
          }
          66% { 
            transform: translate(-20px, 30px) rotate(240deg) scale(0.8);
            opacity: 0.4;
          }
        }
        
        @keyframes linePulse {
          0%, 100% { opacity: 0.1; stroke-width: 1; }
          50% { opacity: 0.4; stroke-width: 2; }
        }
        
        @keyframes spiralFloat {
          0%, 100% { 
            transform: translate(0, 0) scale(1);
            opacity: 0.4;
          }
          50% { 
            transform: translate(20px, -30px) scale(1.5);
            opacity: 0.8;
          }
        }
        
        @keyframes morphGlow {
          0%, 100% { 
            transform: translate(-50%, -50%) scale(1);
            border-radius: 50%;
          }
          25% { 
            transform: translate(-50%, -50%) scale(1.1) rotate(90deg);
            border-radius: 40% 60% 40% 60%;
          }
          50% { 
            transform: translate(-50%, -50%) scale(0.9) rotate(180deg);
            border-radius: 60% 40% 60% 40%;
          }
          75% { 
            transform: translate(-50%, -50%) scale(1.05) rotate(270deg);
            border-radius: 50% 50% 50% 50%;
          }
        }
        
        @keyframes organicMove1 {
          0%, 100% { transform: translate(0, 0); }
          25% { transform: translate(50px, -30px); }
          50% { transform: translate(-30px, 50px); }
          75% { transform: translate(40px, 40px); }
        }
        
        @keyframes organicMove2 {
          0%, 100% { transform: translate(0, 0); }
          25% { transform: translate(-50px, 30px); }
          50% { transform: translate(30px, -50px); }
          75% { transform: translate(-40px, -40px); }
        }
        
        @keyframes organicMove3 {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(60px, -40px) scale(1.2); }
          66% { transform: translate(-40px, 60px) scale(0.8); }
        }
        
        @keyframes organicMove4 {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(-60px, 40px) scale(0.8); }
          66% { transform: translate(40px, -60px) scale(1.2); }
        }
        
        @keyframes organicFloat {
          0%, 100% { 
            transform: translate(0, 0) scale(1);
            opacity: 0.3;
          }
          50% { 
            transform: translate(40px, -50px) scale(1.3);
            opacity: 0.7;
          }
        }
        
        @keyframes organicRay {
          0%, 100% { 
            opacity: 0.1;
            stroke-width: 1;
          }
          50% { 
            opacity: 0.4;
            stroke-width: 3;
          }
        }
        
        @keyframes expandLine {
          0% { 
            width: 0;
            opacity: 0;
          }
          100% { 
            width: 96px;
            opacity: 1;
          }
        }
        
        @keyframes textGlow {
          0%, 100% { 
            text-shadow: 0 0 20px rgba(65, 209, 255, 0.5), 0 0 40px rgba(189, 52, 254, 0.3);
          }
          50% { 
            text-shadow: 0 0 30px rgba(65, 209, 255, 0.7), 0 0 60px rgba(189, 52, 254, 0.5);
          }
        }
        
        .animate-wave1 {
          animation: wave1 8s ease-in-out infinite;
        }
        
        .animate-wave2 {
          animation: wave2 10s ease-in-out infinite reverse;
        }
        
        .animate-morphGlow {
          animation: morphGlow 8s ease-in-out infinite;
        }
        
        .animate-organicMove1 {
          animation: organicMove1 12s ease-in-out infinite;
        }
        
        .animate-organicMove2 {
          animation: organicMove2 15s ease-in-out infinite;
        }
        
        .animate-organicMove3 {
          animation: organicMove3 10s ease-in-out infinite;
        }
        
        .animate-organicMove4 {
          animation: organicMove4 14s ease-in-out infinite;
        }
        
        .animate-organicFloat {
          animation: organicFloat 6s ease-in-out infinite;
        }
        
        .animate-organicRay {
          animation: organicRay 4s ease-in-out infinite;
        }
        
        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }
        
        @keyframes shimmer {
          0% { transform: translateX(-100%) skewX(-15deg); }
          100% { transform: translateX(200%) skewX(-15deg); }
        }
        
        @keyframes gradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes progressBar {
          0% { transform: translateX(-100%); }
          50% { transform: translateX(0%); }
          100% { transform: translateX(100%); }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translateX(50px) scale(0.9);
          }
          to { 
            opacity: 1;
            transform: translateX(0) scale(1);
          }
        }
        
        .animate-shimmer {
          animation: shimmer 3s infinite;
        }
        
        .animate-gradient {
          background-size: 200% 200%;
          animation: gradient 3s ease infinite;
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }
        
        .animate-progressBar {
          animation: progressBar 2s ease-in-out infinite;
        }
      `})]})}function Yt({label:t="Chargement…"}){return e.jsx("div",{className:"fixed inset-0 grid place-items-center bg-[#0C1116]/95 backdrop-blur-sm z-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin"}),t&&e.jsx("p",{className:"text-sm text-gray-300 font-medium",children:t})]})})}function ee({children:t}){const{session:r,loading:n}=V(),u=Y();if(n)return e.jsx(Yt,{label:"Vérification de la session…"});if(!r){const c=encodeURIComponent(u.pathname+u.search);return e.jsx(de,{to:`/login?next=${c}`,replace:!0})}return t}function Bt(){const[t,r]=s.useState(!0),n=()=>{r(!1)};return t?e.jsx(Xt,{onEnter:n}):e.jsxs(Be,{children:[e.jsx(D,{path:"/login",element:e.jsx(Gt,{})}),e.jsx(D,{path:"/logout",element:e.jsx(Ut,{})}),e.jsx(D,{path:"/auth/callback",element:e.jsx(St,{})}),e.jsx(D,{path:"/",element:e.jsx(kt,{})}),e.jsxs(D,{element:e.jsx(Nt,{}),children:[e.jsx(D,{path:"/lab",element:e.jsx(Et,{})}),e.jsx(D,{path:"/a-savoir",element:e.jsx(zt,{})}),e.jsx(D,{path:"/mentions-legales",element:e.jsx(Ht,{})}),e.jsx(D,{path:"/dashboard",element:e.jsx(de,{to:"/",replace:!0})}),e.jsx(D,{path:"/prompt",element:e.jsx(ee,{children:e.jsx(_t,{})})}),e.jsx(D,{path:"/image",element:e.jsx(ee,{children:e.jsx(Mt,{})})}),e.jsx(D,{path:"/video",element:e.jsx(ee,{children:e.jsx(Ot,{})})}),e.jsx(D,{path:"/profil",element:e.jsx(ee,{children:e.jsx(Vt,{})})})]}),e.jsx(D,{path:"*",element:e.jsx(de,{to:"/",replace:!0})})]})}We.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(Je,{children:e.jsx(bt,{children:e.jsx(Bt,{})})})}));
